<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Chrome, Firefox OS and Opera Status Bar Color -->
  <meta name="theme-color" content="#FFFFFF">
  <meta property="og:title" content="ClickHouse ç¼–è¯‘">
  
  <meta name="description" content="ClickHouseçš„ç›¸å…³ç¼–è¯‘æ­¥éª¤ã€‚">
  <meta property="og:description" content="ClickHouseçš„ç›¸å…³ç¼–è¯‘æ­¥éª¤ã€‚">
  
  <meta property="og:type" content="blog">
  <title>ClickHouse ç¼–è¯‘</title>
  <!-- Favicon -->
  
  <link rel="shortcut icon" href="https://avatars1.githubusercontent.com/u/32795735?s=400&u=40ed0595fb3044b01c47849f59ad96d69b4dc8db&v=4">
  
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
  <link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
  <link rel="stylesheet" type="text/css" href="css/notablog.css">
  <link rel="stylesheet" type="text/css" href="css/theme.css">
  <style>
    :root {
      font-size: 18px;
    }

    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
    <a href="index.html">
      <div class="Navbar__Btn"><span><img class="inline-img-icon" src="https://avatars1.githubusercontent.com/u/32795735?s=400&u=40ed0595fb3044b01c47849f59ad96d69b4dc8db&v=4"></span> <span>Home</span></div>
    </a>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <span class="Navbar__Delim">&centerdot;</span>
    <a href="about.html">
      <div class="Navbar__Btn"><span>ğŸ˜€</span> <span>About</span></div>
    </a>
    
    
  </nav>
  <header class="Header">
      
    <div class="Header__Cover">
        <img src="https://clickhouse.tech/images/index/intro.svg">
      </div>
      
    <div class="Header__Spacer ">
    </div>
    
    <div class="Header__Icon"><span><img class="inline-img-icon" src="https://clickhouse.tech/images/logo.svg"></span></div>
    
    <h1 class="Header__Title">ClickHouse ç¼–è¯‘</h1>
        
    <div class="DateTagBar">
          
      <span class="DateTagBar__Item DateTagBar__Date">Posted on Thu, May 13, 2021</span>
          
          
      <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--orange">
            <a href="tag/Linux.html">Linux</a>
          </span>
          
      <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--purple">
            <a href="tag/ClickHouse.html">ClickHouse</a>
          </span>
          
        </div>
        
  </header>
      <article id="https://www.notion.so/d600871e210c4b1eaafc544ae43ebc34" class="PageRoot PageRoot--FullWidth"><ul id="https://www.notion.so/bb3b8d1114a84d27bbac8cc5b4a4e824" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/743fcc24a1e94ffc8b0f91514ad9f123"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">å‰è¨€</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/5d2f1440321b4eaa832ef4c362c58abe"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">1. ç‰ˆæœ¬</strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/2fc025f7373d433c8f253e6c822146d2"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">1.1 ClickHouse</strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/486352068b6b478eb3caa837ff373245"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">1.2 å®‰è£… ninja</strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/ab63162cb57446cba9c270fbfa9dfc92"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">1.3 å®‰è£… gcc</strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/34a35d8ceebc4de8840d23346633f1c5"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">1.4 å®‰è£… cmake</strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/404f1472dd6148fa9def90a4869a5ff2"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">2. ç¼–è¯‘</strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/d3548286fdb44e0f99ebd5493f8621ba"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">2.1 x86 å¹³å°</strong></span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/aea7435c7aa84d99aa463da9d160a0ca"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">2.2 é²²é¹æœåŠ¡å™¨ + ARM å¹³å°</strong></span></span></div></a></li></ul><h2 id="https://www.notion.so/743fcc24a1e94ffc8b0f91514ad9f123" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/743fcc24a1e94ffc8b0f91514ad9f123"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å‰è¨€</span></span></h2><div id="https://www.notion.so/bb31ec40314246d1ad3bc769a0cccc44" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">åº”åŒäº‹è¯·æ±‚ååŠ©å¸®å¿™ç¼–è¯‘ ClickHouseï¼Œè™½ç„¶ä¸ªäººå¯¹ ClickHouse åŠ C++ è¯­è¨€ä¸ç†Ÿæ‚‰ï¼Œä½†ç¼–è¯‘å…¶å®ä¸‡å˜ä¸ç¦»å…¶å®—ï¼ŒæŠŠæ§å¥½ç½‘ç»œã€ç»„ä»¶ç‰ˆæœ¬ã€ç¯å¢ƒå˜é‡ï¼Œå†ä¸¥æ ¼éµå¾ªå®˜ç½‘ç¼–è¯‘æ­¥éª¤ï¼Œå…¶å®å¯ä»¥è§£å†³ç»å¤§éƒ¨åˆ†çš„è½¯ä»¶ç¼–è¯‘é—®é¢˜ã€‚</span></span></p></div><div id="https://www.notion.so/7819b274f83e47c2b99227d978c5b32f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">PSï¼šDocker å¯ä»¥å¾ˆå¥½çš„è§£å†³ç¼–è¯‘ç¯å¢ƒçš„é—®é¢˜ï¼Œè¿™æˆ–è®¸ä¹Ÿæ˜¯è¿‘å¹´æ¥è¶Šæ¥è¶Šå¤šé¡¹ç›®æä¾› docker ç¼–è¯‘æ–¹å¼çš„åŸå› å§ã€‚</span></span></p></div><h2 id="https://www.notion.so/5d2f1440321b4eaa832ef4c362c58abe" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/5d2f1440321b4eaa832ef4c362c58abe"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">1. ç‰ˆæœ¬</strong></span></span></h2><h3 id="https://www.notion.so/2fc025f7373d433c8f253e6c822146d2" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/2fc025f7373d433c8f253e6c822146d2"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">1.1 ClickHouse</strong></span></span></h3><div id="https://www.notion.so/a2fc3de312f14b8da375f8cfc08146a9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ‹‰å– ClickHouse é•œåƒï¼Œè¿™é‡Œä½¿ç”¨ç äº‘ä¸Šçš„é•œåƒè¿›è¡ŒåŠ é€Ÿï¼š</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">git clone https://gitee.com/mirrors/clickhouse.git</code></span><span class="SemanticString">ï¼Œå¹¶åˆ‡æ¢ä¸º 20.6.6.7 åˆ†æ”¯ã€‚</span></span></p></div><h3 id="https://www.notion.so/486352068b6b478eb3caa837ff373245" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/486352068b6b478eb3caa837ff373245"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">1.2 å®‰è£… ninja</strong></span></span></h3><div id="https://www.notion.so/3cddfbcceb2d4740a2e70a095f738eaa" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¿™é‡Œå®‰è£… ninja 1.9ï¼Œå‚è€ƒninja å®˜ç½‘ï¼š</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="http://blog.fpliu.com/it/software/ninja">http://blog.fpliu.com/it/software/ninja</a></span><span class="SemanticString"> ã€‚
ClickHouse 20.6.6.7 è¦æ±‚è‡³å°‘ 1.8ï¼Œè¿™é‡Œç›´æ¥æŒ‰ç…§ ninja å®˜ç½‘é¦–é¡µæ¥ï¼š</span></span></p></div><pre id="https://www.notion.so/ebac34306edc48dbb3bd35a5b624ed09" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span> <span class="token function">curl</span> -LO https://github.com/ninja-build/ninja/releases/download/v1.9.0/ninja-linux.zip
 <span class="token function">unzip</span> ninja-linux.zip -d ~/bin
 <span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span>:~/bin
 <span class="token comment"># æ­¤å¤„å»ºç«‹è½¯è¿æ¥ï¼Œå¦åˆ™ç¼–è¯‘æ—¶ä¼šæç¤ºæ‰¾ä¸åˆ° ninja</span>
 <span class="token function">ln</span> -s ~/bin/ninja /usr/bin/ninja-build</span></span></span></code></pre><h3 id="https://www.notion.so/ab63162cb57446cba9c270fbfa9dfc92" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/ab63162cb57446cba9c270fbfa9dfc92"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">1.3 å®‰è£… gcc</strong></span></span></h3><div id="https://www.notion.so/9febd93bf20d40f2ad4aadb688e148e7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ ¹æ®å®˜ç½‘æ•™ç¨‹ï¼Œck 20.6.6.7 ç‰ˆæœ¬åº”ä½¿ç”¨ gcc-9ï¼Œè¿™é‡Œä½¿ç”¨ devtoolset æ¥è¿›è¡Œ gcc ç‰ˆæœ¬çš„åˆ‡æ¢ã€‚</span></span></p></div><div id="https://www.notion.so/75635353412f40528a41c788240afce3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¦‚æœ gcc ç‰ˆæœ¬ä¸ä¸º 9ï¼Œä¸”å®‰è£…äº†å…¶ä»–ç‰ˆæœ¬çš„ devtoolsetï¼Œè®°å¾—å…ˆå¸è½½æ‰ devtoolsetã€‚</span></span></p></div><div id="https://www.notion.so/b6aba44ba53146d599b5bb387eea087b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å®‰è£… devtoolset-9ï¼Œå¹¶åˆ‡æ¢ä¸º gcc-9ï¼Œå‚ç…§ </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://www.cnblogs.com/52fhy/p/12547521.html">https://www.cnblogs.com/52fhy/p/12547521.html</a></span><span class="SemanticString"> ï¼š</span></span></p></div><pre id="https://www.notion.so/168d206890fa4d3198e0520fcf2eab66" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span> yum -y <span class="token function">install</span> centos-release-scl
 yum -y <span class="token function">install</span> devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils
 scl <span class="token builtin class-name">enable</span> devtoolset-9 <span class="token function">bash</span></span></span></span></code></pre><h3 id="https://www.notion.so/34a35d8ceebc4de8840d23346633f1c5" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/34a35d8ceebc4de8840d23346633f1c5"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">1.4 å®‰è£… cmake</strong></span></span></h3><div id="https://www.notion.so/b4160ff89d0d478e88e7ecf32d935079" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">cmake ç‰ˆæœ¬è‡³å°‘ 3 ä»¥ä¸Šï¼š</span></span></p></div><pre id="https://www.notion.so/e3974334ae1d4d1e839b474e37bf73a5" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span> $ cmake --version
 cmake version <span class="token number">3.14</span>.5</span></span></span></code></pre><h2 id="https://www.notion.so/404f1472dd6148fa9def90a4869a5ff2" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/404f1472dd6148fa9def90a4869a5ff2"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">2. ç¼–è¯‘</strong></span></span></h2><h3 id="https://www.notion.so/d3548286fdb44e0f99ebd5493f8621ba" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/d3548286fdb44e0f99ebd5493f8621ba"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">2.1 x86 å¹³å°</strong></span></span></h3><div id="https://www.notion.so/efaf7f7169b54973a9888f2a60b188f9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">é‡ç‚¹</strong></span><span class="SemanticString">ï¼šåœ¨å‰é¢è§„æ•´äº†å„ç¼–è¯‘ç»„ä»¶çš„ç‰ˆæœ¬åï¼Œæœ¬è´¨ä¸Šè¿˜å‡ºç°ç¼–è¯‘é”™è¯¯çš„åŸå› éƒ½æ˜¯ </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">ClickHouse çš„ä¾èµ–åŒ…ä¸‹è½½ä¸å…¨æˆ–è€…ä¸‹è½½é”™è¯¯</strong></span><span class="SemanticString">ï¼Œè¿™é‡Œé€šè¿‡ä¿®æ”¹ ClickHouse ä¾èµ–çš„å­æ¨¡å—ä¸ºç äº‘ gitee ä»“åº“è§£å†³ã€‚</span></span></p></div><ul class="BulletedListWrapper"><li id="https://www.notion.so/26af475bca5c4120896ac36b130eabcb" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">ç äº‘ä¸ºç¼–è¯‘ ClickHouse æ‰€å»ºçš„é•œåƒä»“åº“ï¼ˆä¼˜å…ˆä½¿ç”¨ï¼‰ï¼š</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://gitee.com/organizations/ClickHouse-Build/projects">https://gitee.com/organizations/ClickHouse-Build/projects</a></span></span></li><li id="https://www.notion.so/50af273a6a374dfd95b1346d42b89966" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">ç äº‘ä¸ºç»å¤§éƒ¨åˆ† github é¡¹ç›®å»ºç«‹çš„é•œåƒä»“åº“ï¼š</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://gitee.com/organizations/mirrors/projects">https://gitee.com/organizations/mirrors/projects</a></span></span></li><li id="https://www.notion.so/87ae9167f0a5486b9d35923c194a0e8f" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">ç äº‘ä¸º apache é¡¹ç›®å»ºç«‹çš„é•œåƒä»“åº“ï¼š</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://gitee.com/organizations/mirrors_apache/projects">https://gitee.com/organizations/mirrors_apache/projects</a></span></span></li></ul><div id="https://www.notion.so/d8546e6b619345cea523ce8da68c7e69" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ä¸Šè¿°å‡ ä¸ªä»“åº“ï¼Œéƒ½æ˜¯ç äº‘å®˜æ–¹æ‹‰å–äº† github ä¸Šçš„ä»“åº“ï¼Œä¸ºå›½å†…æä¾›åŠ é€Ÿçš„ã€‚</span></span></p></div><div id="https://www.notion.so/15c6a5e398be4737a13f5d12094d60c4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">çŸ¥é“è¿™ä¸Šé¢ä¸‰ä¸ªä»“åº“åï¼Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯å°† ClickHouse ä¾èµ–çš„å­é¡¹ç›®é…ç½®åŠå…¶å­é¡¹ç›®ä¾èµ–çš„å­é¡¹ç›®ï¼ˆéƒ¨åˆ†å­é¡¹ç›®ä¹Ÿæœ‰è‡ªèº«ä¾èµ–çš„å­é¡¹ç›®ï¼‰æ›¿æ¢ä¸ºç äº‘ä¸Šçš„ä»“åº“ï¼š</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">sed -i -r  &quot;s/github.com\/.+\//gitee.com\/ClickHouse-Build\//g&quot; .gitmodules</code></span><span class="SemanticString">ã€‚</span></span></p></div><blockquote id="https://www.notion.so/39ef4deb008741ae8d8083b6523a3404" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString">NOTEï¼šä¸Šè¿°å‘½ä»¤åªæ˜¯ä¸¾ä¸ªä¾‹å­ï¼Œå®é™…ä¸Šéœ€è¦æ ¹æ®å…·ä½“åœºæ™¯ï¼Œå°†å„ä¸ª git é¡¹ç›®ä¸‹çš„ github è·¯å¾„æ›¿æ¢ä¸º gitee è·¯å¾„ã€‚ä¹‹æ‰€ä»¥åˆ—å‡ºä¸‰ä¸ªé•œåƒä»“åº“ï¼Œæ˜¯å› ä¸ºéƒ¨åˆ†å­é¡¹ç›®åœ¨ ClickHouse-Build ä¸­ä¹Ÿæ²¡æœ‰ï¼Œæ­¤æ—¶éœ€è¦åˆ°å‰©ä½™ä¸¤ä¸ªä»“åº“ä¸­å¯»æ‰¾å¹¶æ‰‹åŠ¨æ›¿æ¢ã€‚å½“ç„¶æ›´å¥½çš„æ–¹æ³•æ˜¯èƒ½å¤Ÿæ­å»ºä¸€ä¸ª vpnï¼Œè¿™æ ·å°±æ— éœ€è‡ªå·±æ‰‹åŠ¨æ›¿æ¢äº†ã€‚</span></span></blockquote><blockquote id="https://www.notion.so/0ae8f4633a51415cb20becbd19aa76bf" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString">NOTEï¼šå­é¡¹ç›®çš„å«ä¹‰è¯·è‡ªè¡Œäº†è§£ git çš„ submodule æ¦‚å¿µã€‚</span></span></blockquote><div id="https://www.notion.so/51f5f518b2bb4148b78405eba46c3363" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ›¿æ¢å®Œæˆåï¼Œåœ¨ ClickHouse é¡¶çº§ç›®å½•æ‰§è¡Œ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">git submodule sync --recursive</code></span><span class="SemanticString"> åŒæ­¥ä¿®æ”¹çš„å­é¡¹ç›®é…ç½®ï¼Œä¹‹åå†æ‰§è¡Œ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">git submodule update --init --recursive</code></span><span class="SemanticString"> æ‹‰å–å­é¡¹ç›®ï¼Œæ ¹æ®æŠ¥é”™æç¤ºï¼Œé€ä¸ªä¿®æ”¹å­æ¨¡å—çš„ä»“åº“è·¯å¾„ã€‚</span></span></p></div><div id="https://www.notion.so/2fc7661776c642d290aa43715da26638" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰éƒ¨åˆ†å­é¡¹ç›®çš„é¡¹ç›®å‘½ååœ¨ gitee è·Ÿ github ä¸Šæœ‰ä¸€ç‚¹åŒºåˆ«ï¼Œè¿™é‡Œé€ä¸ªåˆ—å‡ºï¼š</span></span></p></div><pre id="https://www.notion.so/b10282855cf249079331c5551bdee99d" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span> <span class="token comment"># vim $ClickHouse_HOME/.gitmodules</span>
 
 <span class="token punctuation">[</span>submodule <span class="token string">"contrib/aws"</span><span class="token punctuation">]</span>
     path <span class="token operator">=</span> contrib/aws
     url <span class="token operator">=</span> https://github.com/ClickHouse-Extras/aws-sdk-cpp.git
 <span class="token comment"># æ›¿æ¢ä¸º</span>
 <span class="token punctuation">[</span>submodule <span class="token string">"contrib/aws"</span><span class="token punctuation">]</span>
         path <span class="token operator">=</span> contrib/aws
         url <span class="token operator">=</span> https://gitee.com/ClickHouse-Build/aws.git</span></span></span></code></pre><div id="https://www.notion.so/430dca6b168b4705bfb69edda78d8ef2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æœ€ååœ¨ ClickHouse é¡¶çº§ç›®å½•æ‰§è¡Œä¸‹åˆ—å‘½ä»¤è¿›è¡Œç¼–è¯‘ï¼š</span></span></p></div><pre id="https://www.notion.so/5b4b3b07767641a1ae891d3ffa0fa3da" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span> <span class="token comment"># å‚è€ƒï¼šhttps://clickhouse.tech/docs/v20.3/en/development/build/</span>
 $ <span class="token builtin class-name">export</span> <span class="token assign-left variable">CC</span><span class="token operator">=</span>gcc-9
 $ <span class="token builtin class-name">export</span> <span class="token assign-left variable">CXX</span><span class="token operator">=</span>g++-9
 $ <span class="token builtin class-name">cd</span> ClickHouse
 $ <span class="token function">mkdir</span> build
 $ <span class="token builtin class-name">cd</span> build
 <span class="token comment"># æ‰§è¡Œ cmake çš„æ—¶å€™ï¼Œä¸€å®šè¦ä»”ç»†è§‚å¯Ÿè¾“å‡ºä¿¡æ¯ï¼Œè¯¦è§ä¸‹è¿°æ–‡å­—è¯¦ç»†è¯´æ˜</span>
 $ cmake <span class="token punctuation">..</span>
 $ ninja clickhouse
 $ <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span></span></span></span></code></pre><div id="https://www.notion.so/b4ae81a78ed84a0fad6e3b9646d829e0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ‰§è¡Œ cmake çš„æ—¶å€™ï¼Œä¸€å®šè¦ä»”ç»†è§‚å¯Ÿè¾“å‡ºä¿¡æ¯ï¼Œè‹¥å‡ºç°ä¸‹è¿°ä¿¡æ¯ï¼š</span></span></p></div><pre id="https://www.notion.so/b803c1187ddd455bb56eb9ab11d8e783" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>Â ......
Â -- The following OPTIONAL packages have not been found:
Â 
Â  * Arrow
Â  * Parquet
Â ......</span></span></span></code></pre><div id="https://www.notion.so/43348f2df48e4ac882db9991aac1e762" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">é‚£ä¹ˆéœ€è¦ä»”ç»†æ£€æŸ¥ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">$ClickHouse_HOME/contrib</code></span><span class="SemanticString"> ä¸‹å¯¹åº”çš„æ¨¡å—æ˜¯å¦å­˜åœ¨ï¼Œä»¥åŠ .gitmodules å¯¹åº”æ¨¡å—çš„é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç¼–è¯‘å¤±è´¥ã€‚
å¦‚æœå‘ç°æ¨¡å—æ‹‰å–å¤±è´¥ï¼Œåˆ™å¯ä»¥åˆ é™¤ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">$ClickHouse_HOME/contrib/æ¨¡å—</code></span><span class="SemanticString"> çš„æ–‡ä»¶å¤¹ï¼Œç„¶åé‡æ–°æ‰§è¡Œ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">git submodule sync --recursive</code></span><span class="SemanticString"> ä»¥åŠ </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">git submodule update --init --recursive</code></span><span class="SemanticString"> é‡æ–°æ‹‰å–æ¨¡å—ã€‚</span></span></p></div><div id="https://www.notion.so/fc0f81e7a5fa47e3996f018975bef2ba" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æœ€åä¼šç”Ÿæˆ  </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">$ClickHouse_HOME/build/programs/clickhouse</code></span><span class="SemanticString"> å¯æ‰§è¡Œæ–‡ä»¶ï¼Œç”¨äºå¯åŠ¨ clientã€server ç­‰ã€‚</span></span></p></div><div id="https://www.notion.so/430661de008d45febb14e2488f133c37" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å®˜ç½‘æ•™ç¨‹ï¼š </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://gitee.com/ClickHouse-Build/aws.git">https://gitee.com/ClickHouse-Build/aws.git</a></span></span></p></div><h3 id="https://www.notion.so/aea7435c7aa84d99aa463da9d160a0ca" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/aea7435c7aa84d99aa463da9d160a0ca"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">2.2 é²²é¹æœåŠ¡å™¨ + ARM å¹³å°</strong></span></span></h3><div id="https://www.notion.so/dae83affcc10418084f91b54c3d60c5f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å¯¹äº é²²é¹æœåŠ¡å™¨ + ARM å¹³å°ï¼Œé€šè¿‡åä¸ºçš„æŠ€æœ¯äººå‘˜å¾—çŸ¥ï¼Œåœ¨ç¼–è¯‘æ—¶éœ€è¦æ‰§è¡Œä¸€äº›é¢å¤–æ­¥éª¤ï¼š</span></span></p></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/48ff3161b79d452387808ee8a8c07169" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">ä¿®æ”¹contrib/CMakeLists.txtï¼ŒWITH 1ä¿®æ”¹ä¸ºWITH 0ï¼š</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">sed -i &#x27;s!WITH_ACLE 1!WITH_ACLE 0!g&#x27; contrib/CMakeLists.txt</code></span></span></li><li id="https://www.notion.so/1c8376b72b5547689551aff3f0646f87" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">å…³é—­ WERROEï¼š</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">sed -i &#x27;s!WERROR &quot;Enable -Werror compiler option&quot; ON!WERROR &quot;Enable -Werror compiler option&quot; OFF!g&#x27; CMakeLists.txt</code></span></span></li><li id="https://www.notion.so/fe2bac08527743e29316bded22a23edf" class="NumberedList" value="3"><span class="SemanticStringArray"><span class="SemanticString">å¯¹äº GCC 9.1 ä»¥ä¸Šï¼Œå¯ä»¥æ·»åŠ  ARM ç‹¬æœ‰ä¼˜åŒ–ï¼Œ</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">vim cmake/cpu_features.cmake</code></span><span class="SemanticString"> æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</span></span><pre id="https://www.notion.so/a6e24a424bcd405182d14f73963056ac" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ARCH_AARCH64<span class="token punctuation">)</span>
     <span class="token function">set</span> <span class="token punctuation">(</span>COMPILER_FLAGS <span class="token string">"${COMPILER_FLAGS}   -march=armv8.2-a+fp+simd+crc+lse  -mtune=tsv110 -fPIC "</span><span class="token punctuation">)</span>
 <span class="token function">endif</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></span></span></code></pre></li><li id="https://www.notion.so/8101f51c67584a7ebfa56e48cb209dcd" class="NumberedList" value="4"><span class="SemanticStringArray"><span class="SemanticString">æ‰§è¡Œ cmake æ—¶éœ€è¦å…³é—­ unwindï¼ˆARM ä¸æ”¯æŒï¼Œä¸”ä»…åœ¨å¼‚å¸¸æµ‹è¯•çš„æ—¶å€™ä½¿ç”¨ï¼‰ï¼š</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">cmake3 .. -DENABLE_TCMALLOC=OFF -DUSE_UNWIND=OFF -DENABLE_JEMALLOC=OFF -DCMAKE_INSTALL_PREFIX</code></span></span></li></ol></article>
  <footer class="Footer">
        <div>&copy; Rianicoâ€˜s Blog 2019</div>
        <div>&centerdot;</div>
        <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
            rel="noopener noreferrer">Notablog</a>.
        </div>
    </footer>
</body>

</html>